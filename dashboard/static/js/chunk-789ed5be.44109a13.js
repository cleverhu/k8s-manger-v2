(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-789ed5be"],{"0148":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("TLS类型 ")])]),a("div",[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"私钥Key"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.kvs[0].key,callback:function(t){e.$set(e.kvs[0],"key",t)},expression:"kvs[0].key"}})],1),a("el-form-item",{attrs:{label:"私钥内容"}},[a("el-input",{attrs:{placeholder:"-----BEGIN RSA PRIVATE KEY-----开头的内容",type:"textarea",row:2},model:{value:e.kvs[0].value,callback:function(t){e.$set(e.kvs[0],"value",t)},expression:"kvs[0].value"}}),a("a",{staticClass:"file",attrs:{href:"javascript:"}},[e._v("从文件导入 "),a("input",{ref:"filekey",attrs:{type:"file",accept:".txt,.pem,.key,.pkey"},on:{change:function(){return e.fileChange("filekey")}}})])],1),a("el-form-item",{attrs:{label:"证书key"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.kvs[1].key,callback:function(t){e.$set(e.kvs[1],"key",t)},expression:"kvs[1].key"}})],1),a("el-form-item",{attrs:{label:"证书内容"}},[a("el-input",{attrs:{placeholder:"-----BEGIN CERTIFICATE-----开头的内容",type:"textarea",row:2},model:{value:e.kvs[1].value,callback:function(t){e.$set(e.kvs[1],"value",t)},expression:"kvs[1].value"}}),a("a",{staticClass:"file",attrs:{href:"javascript:"}},[e._v("从文件导入 "),a("input",{ref:"filecrt",attrs:{type:"file",accept:".txt,.pem,.crt,.cert"},on:{change:function(){return e.fileChange("filecrt")}}})])],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:e.Save}},[e._v("保存")])],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px",color:"red"}},[e._v(" "+e._s(e.errorMsg)+" ")]),a("div")])],1)},s=[],n=(a("4160"),a("159b"),a("73d5")),l={props:["Name","NameSpace"],data:function(){return{kvs:[{key:"tls.key",value:""},{key:"tls.crt",value:""}],errorMsg:""}},methods:{fileChange:function(e){var t=this;if(""!==this.$refs[e].value){var a=new FileReader;a.readAsText(this.$refs[e].files[0],"UTF-8"),a.onload=function(a){"filekey"===e?t.kvs[0].value=a.target.result:t.kvs[1].value=a.target.result}}},handlePreview:function(e){console.log(e)},Save:function(){var e=this,t={};this.kvs.forEach((function(e){t[e.key]=e.value}));var a={Name:this.$props.Name,NameSpace:this.$props.NameSpace,Type:"kubernetes.io/tls",Data:t};Object(n["a"])(a).then((function(e){alert("创建成功")})).catch((function(t){t.response?e.errorMsg=JSON.stringify(t.response.data):e.errorMsg=JSON.stringify(t.message)}))}}},i=l,c=(a("fff1"),a("2877")),o=Object(c["a"])(i,r,s,!1,null,null,null);t["default"]=o.exports},"73d5":function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return i}));var r=a("b775");function s(e){return Object(r["a"])({url:"/secrets?namespace="+e,method:"get"})}function n(e,t){return Object(r["a"])({url:"/secrets/"+e+"/"+t,method:"get"})}function l(e,t){return Object(r["a"])({url:"/secrets?namespace="+e+"&name="+t,method:"delete"})}function i(e){return Object(r["a"])({url:"/secrets",method:"post",data:e})}},"8c66":function(e,t,a){},fff1:function(e,t,a){"use strict";var r=a("8c66"),s=a.n(r);s.a}}]);